name: comparativa

mgmt:
  network: snmp-gnmi
  ipv4-subnet: 172.100.100.0/24  
  
topology:
  nodes:
    # Nokia SRL Linux Layer 2 Device
    srlswitch:
      kind: nokia_srlinux
      image: ghcr.io/nokia/srlinux:24.10.1
      type: ixrd3
      startup-config: configs/srlswitch.cfg

    # Nokia SRL Linux Layer 2 Device
    srlswitch2:
      kind: nokia_srlinux
      image: ghcr.io/nokia/srlinux:24.10.1
      type: ixrd3
      startup-config: configs/srlswitch.cfg 
            
    # Nokia SRL Linux Router
    srlrouter:
      kind: nokia_srlinux
      image: ghcr.io/nokia/srlinux:24.10.1
      type: ixrd3
      startup-config: configs/srlrouter.cfg
      
    arista-router:
      kind: arista_veos
      mgmt-ipv4: 172.100.100.7
      image: vrnetlab/arista_veos:4.35.1F
      startup-config: configs/myconfig.txt      

    cisco-router:
      kind: cisco_iol
      mgmt-ipv4: 172.100.100.5
      image: docker.io/arthurk99/cisco-iol:17.15.01 
      startup-config: configs/config.partial  

               
    #gNMIc-snmp:
      #kind: linux
      #image: esanchezv/kali-python3:latest
      #binds:
        #- configs/snmp-netconf.sh:/root/snmp-netconf.sh
        #- configs/test-netconf.py:/root/test-netconf.py
        #- configs/gnmic-config.yml:/root/gnmic-config.yml
      #exec:
          #- mkdir /data
          #- chmod +x /data
          #- python3 -m pip config set global.break-system-packages true
          #- chmod +x /root/snmp-netconf.sh
          #- bash /root/snmp-netconf.sh    

    traffic-gen:
      kind: linux
      image: esanchezv/kali-iperf3:latest
      exec:
         - ip -6 addr add 2001:db8:10::100/64 dev eth1

    alpine:
      kind: linux
      image: esanchezv/alpine-python3:latest
      binds:
         - configs/snmp.sh:/root/snmp.sh
         - configs/if-stats-netconf.py:/root/if-stats-netconf.py
         - configs/if-stats-snmp-full.py:/root/if-stats-snmp-full.py
         - configs/if-stats-netconf-v2.py:/root/if-stats-netconf-v2.py
         - configs/if-stats-snmp-v2.py:/root/if-stats-snmp-v2.py
         - configs/if-stats-snmp-v3.py:/root/if-stats-snmp-v3.py
         - configs/gnmic-config.yml:/root/gnmic-config.yml
      exec:
         - ip -6 addr add 2001:db8:20::100/64 dev eth1
         - mkdir /data
         - chmod +x /data
         - python3 -m pip config set global.break-system-packages true
         - chmod +x /root/snmp.sh
         - sh /root/snmp.sh      
            
    
  links:
    - endpoints: ["srlrouter:e1-1", "srlswitch:e1-1"]
      #mtu: 1500
    - endpoints: ["arista-router:eth1", "srlswitch:e1-2"]
      mtu: 1500
    - endpoints: ["cisco-router:Ethernet0/1", "srlswitch:e1-3"]
      mtu: 1500
    - endpoints: ["traffic-gen:eth1", "srlswitch:e1-5"]
      mtu: 1500  
    - endpoints: ["cisco-router:Ethernet0/2", "srlswitch2:e1-3"]
      mtu: 1500
    - endpoints: ["arista-router:eth2", "srlswitch2:e1-2"]
      mtu: 1500  
    - endpoints: ["srlrouter:e1-2", "srlswitch2:e1-1"]  
    - endpoints: ["alpine:eth1", "srlswitch2:e1-5"]
      mtu: 1500  
      
    
     
     
