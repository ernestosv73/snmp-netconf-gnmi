name: comparativa

mgmt:
  network: snmp-gnmi
  ipv4-subnet: 172.100.100.0/24  
  
topology:
  nodes:
    # Nokia SRL Linux Layer 2 Device
    srlswitch:
      kind: nokia_srlinux
      image: ghcr.io/nokia/srlinux:24.10.1
      type: ixrd3
      startup-config: configs/srlswitch.cfg
            
    # Nokia SRL Linux Router
    srlrouter:
      kind: nokia_srlinux
      image: ghcr.io/nokia/srlinux:24.10.1
      type: ixrd3
      startup-config: configs/srlrouter.cfg
      
    huawei-router:
      kind: huawei_vrp
      mgmt-ipv4: 172.100.100.7
      image: vrnetlab/huawei_vrp:ne40e-8.180
      startup-config: configs/myconfig.txt      

    cisco-router:
      kind: cisco_iol
      mgmt-ipv4: 172.100.100.5
      image: docker.io/arthurk99/cisco-iol:17.15.01 
      startup-config: configs/config.partial  
           
    gNMIc-snmp:
      kind: linux
      image: esanchezv/kali-python3:latest
      binds:
        - configs/snmp-netconf.sh:/root/snmp-netconf.sh
        - configs/test-netconf.py:/root/test-netconf.py
      exec:
         #- mkdir /data
         #- chmod +x /data
          - python3 -m pip config set global.break-system-packages true
          - chmod +x /root/snmp-netconf.sh
          - bash /root/snmp-netconf.sh    

    traffic-gen:
      kind: linux
      image: esanchezv/kali-iperf3:latest
            
    
  links:
    - endpoints: ["srlrouter:e1-1", "srlswitch:e1-1"]
      #mtu: 1500
    - endpoints: ["huawei-router:eth1", "srlswitch:e1-2"]
      mtu: 1500
    - endpoints: ["cisco-router:Ethernet0/1", "srlswitch:e1-3"]
      mtu: 1500
    - endpoints: ["gNMIc-snmp:eth1", "srlswitch:e1-4"]
      mtu: 1500
    - endpoints: ["traffic-gen:eth1", "srlswitch:e1-5"]
      mtu: 1500  
    
     
     
